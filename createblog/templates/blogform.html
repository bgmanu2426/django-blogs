{% extends "layout.html" %} 
{% block title %} 
    {% if form.instance.pk %}
    Edit Blog
    {% else %}
    Create Blog
    {% endif %}
{% endblock title %}
{% block content %} 
<h1 class="text-3xl text-center mb-6">
    {% if form.instance.pk %}
    Edit Blog
    {% else %}
    Create Blog
    {% endif %}
</h1>

<form method="post" enctype="multipart/form-data" class="w-full max-w-lg mx-auto mt-10">
    {% csrf_token %}
    
    <div class="mb-6">
        <label for="id_title" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Title</label>
        {{ form.title }}
    </div>

    <div class="mb-6">
        <label for="id_content" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Content</label>
        {{ form.content }}
    </div>

    <div class="mb-6">
        <label for="id_photo" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Photo</label>
        {{ form.photo }}
    </div>
    
    <button type="submit" class="w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5">
        Submit Blog
    </button>
    <a href="{%url 'allBlogs'%}">
        <button type="button" class="w-full mt-2 text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5">
            Cancel
        </button>
    </a>
</form>
<!-- Markdown RTE: SimpleMDE integration via CDN -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.css">
<script src="https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.js"></script>
<script>
  // Initialize SimpleMDE on the content textarea
  var simplemde = new SimpleMDE({
      element: document.getElementById("id_content"),
      spellChecker: false,
  });
  document.getElementById("id_content").removeAttribute("required");
</script>
{% endblock %}